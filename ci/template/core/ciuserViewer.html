<!-- extends core/base_core.html-->
{% extends "core/base_core.html" %}

<!-- override block_head -->
{% block block_head %}
<!-- ciuserViewer.html block_head -->
<!-- css -->
<link type="text/css" rel="stylesheet" href="/static/ci/css/ciuserViewer.css" >
<!-- js -->
<script type="text/javascript" src="/static/ci/js/ciuserViewer.js"></script>
{% endblock block_head %}

<!-- override block_content -->
{% block block_content %}
<!-- ciuserViewer.html block_content -->
<!-- 標題列 -->
<div id="divHeader" class="row">
    <!-- 頭像 -->
    <img class="col-xs-2" src="/static/ci/img/default-thumbnail.png" height="80" width="80">
    <!-- 資料列 -->
    <div class="col-xs-10 row">
        <!-- 顯示名稱 -->
        <div class="row">
            <div class="col-xs-2">
                <span>顯示名稱:</span>
            </div>
            <div class="col-xs-2">
                <span>{{ userHost.ciuser.strDisplayName }}</span>
            </div>
        </div>
        <!-- 個人 PV -->
        <div class="row">
            <div class="col-xs-2">
                <span>個人 PV:</span>
            </div>
            <div class="col-xs-2">
                <span>{{ userHost.ciuser.intPointVolume }}</span>
            </div>
        </div>
        <!-- 團隊 PV -->
        <div class="row">
            <div class="col-xs-2">
                <span>團隊 PV:</span>
            </div>
            <div class="col-xs-2">
                <span>{{ intRaidPV }}</span>
            </div>
        </div>
    </div>
</div>
<!-- 水平線 -->
<hr>
<div id="divContent" class="row">
    <!-- 聊天頻道 -->
    <div class="col-xs-6">
        <iframe id="iframeChatChannel" src="/chat/channel/{{ userHost.ciuser.strCIUserUID }}">
        </iframe>
    </div>
    <!-- 任務欄 -->
    <div class="col-xs-6">
        <!-- 執行中任務 -->
        <div>
            <button class="bg-primary">
                執行中任務
                <span class="badge">{{ userHost.ciuser.executor_set.all.count }}</span>
            </button>
            <div class="dropdown">
                <button class="btn btn-primary dropdown-toggle btn-xs" type="button" data-toggle="dropdown">
                    <span class="glyphicon glyphicon-filter"></span>
                </button>
                <ul class="dropdown-menu filterExecutorCIQuest">
                    <li><input type="checkbox" name="quest-state" value="new"></input>new</li>
                    <li><input type="checkbox" name="quest-state" value="processing"></input>processing</li>
                    <li><input type="checkbox" name="quest-state" value="complete"></input>complete</li>
                    <li><input type="checkbox" name="quest-state" value="incomplete"></input>incomplete</li>
                    <li><input type="checkbox" name="quest-state" value="end_success"></input>end_success</li>
                    <li><input type="checkbox" name="quest-state" value="end_failure"></input>end_failure</li>
                </ul>
            </div>
            <ul class="list-group">
            {% for matchedCIQuest in userHost.ciuser.executor_set.all %}
                <li class="list-group-item liExecutorCIQuest" data-quest-state={{ matchedCIQuest.strState }}>
                    <!-- 任務QID 隱藏 -->
                    <input type="hidden" class="strQID" name="strQID" value={{ matchedCIQuest.strQID }}></input>
                    <a class="linkViewCIQuest" href="javascript: void(0);">{{ matchedCIQuest.strHeadline }}</a>
                </li>
            {% endfor %}
            </ul>
        </div>
        <!-- 發起的任務 -->
        <div>
            <button class="bg-primary">
                發起的任務
                <span class="badge">{{ userHost.ciuser.initiator_set.all.count }}</span>
            </button>
            <div class="dropdown">
                <button class="btn btn-primary dropdown-toggle btn-xs" type="button" data-toggle="dropdown">
                    <span class="glyphicon glyphicon-filter"></span>
                </button>
                <ul class="dropdown-menu filterInitiatorCIQuest">
                    <li><input type="checkbox" name="quest-state" value="new"></input>new</li>
                    <li><input type="checkbox" name="quest-state" value="processing"></input>processing</li>
                    <li><input type="checkbox" name="quest-state" value="complete"></input>complete</li>
                    <li><input type="checkbox" name="quest-state" value="incomplete"></input>incomplete</li>
                    <li><input type="checkbox" name="quest-state" value="end_success"></input>end_success</li>
                    <li><input type="checkbox" name="quest-state" value="end_failure"></input>end_failure</li>
                </ul>
            </div>
            <ul class="list-group">
            {% for matchedCIQuest in userHost.ciuser.initiator_set.all %}
                <li class="list-group-item liInitiatorCIQuest" data-quest-state={{ matchedCIQuest.strState }}>
                    <!-- 任務QID 隱藏 -->
                    <input type="hidden" class="strQID" name="strQID" value={{ matchedCIQuest.strQID }}></input>
                    <a class="linkViewCIQuest" href="javascript: void(0);">{{ matchedCIQuest.strHeadline }}</a>
                </li>
            {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock block_content %}